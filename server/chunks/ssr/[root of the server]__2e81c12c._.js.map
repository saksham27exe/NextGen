{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/googleai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.0-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/schemas/chatbot.ts"],"sourcesContent":["import { z } from 'genkit';\n\nexport const ChatMessageSchema = z.object({\n  role: z.enum(['user', 'model']),\n  text: z.string(),\n});\nexport type ChatMessage = z.infer<typeof ChatMessageSchema>;\n\nexport const ChatbotInputSchema = z.object({\n  history: z.array(ChatMessageSchema).describe(\"The history of the conversation so far.\"),\n  userMessage: z.string().describe(\"The user's latest message.\"),\n  caseContext: z.string().optional().describe(\"Optional context about the current case the user might be viewing.\"),\n});\nexport type ChatbotInput = z.infer<typeof ChatbotInputSchema>;\n\nexport const ChatbotOutputSchema = z.object({\n  botResponse: z.string().describe(\"The chatbot's response message.\"),\n});\nexport type ChatbotOutput = z.infer<typeof ChatbotOutputSchema>;\n"],"names":[],"mappings":";;;;;AAAA;AAAA;;AAEO,MAAM,oBAAoB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACxC,MAAM,uIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;QAAC;QAAQ;KAAQ;IAC9B,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM;AAChB;AAGO,MAAM,qBAAqB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACzC,SAAS,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,mBAAmB,QAAQ,CAAC;IAC7C,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACjC,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;AAC9C;AAGO,MAAM,sBAAsB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC1C,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AACnC","debugId":null}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/chatbot-flow.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview AI Chatbot flow for Nextgen-Ecourt.\n * This file defines the Genkit flow for the e-court chatbot.\n * It exports the `getChatbotResponse` function and its associated input/output types.\n *\n * Exports:\n * - getChatbotResponse: (input: ChatbotInput) => Promise<ChatbotOutput>\n * - ChatbotInput: type\n * - ChatbotOutput: type\n * - ChatMessage: type\n */\n\nimport { ai } from '@/ai/genkit';\nimport type { MessageData } from 'genkit';\nimport {\n  ChatbotInputSchema,\n  ChatbotOutputSchema,\n  type ChatbotInput,\n  type ChatbotOutput,\n  type ChatMessage, // Exporting for use in UI components\n} from '@/ai/schemas/chatbot';\n\nexport type { ChatbotInput, ChatbotOutput, ChatMessage };\n\nconst systemPrompt = `You are an AI Legal Assistant for Nextgen-Ecourt, a digital judiciary management platform.\nYour role is to assist users (lawyers, plaintiffs, defendants, judges, court officials) with their queries.\nBe polite, professional, and provide clear, concise information.\n\nIMPORTANT LANGUAGE HANDLING INSTRUCTIONS:\n1.  Detect the language of the user's message.\n2.  Supported languages for response are: English, Hindi, Spanish, French, and German.\n3.  If the user's message is in one of these supported languages:\n    a.  Understand the query in its original language.\n    b.  Formulate your answer in English first (for internal consistency and knowledge retrieval).\n    c.  Then, translate this English answer accurately back to the user's original detected language.\n    d.  Provide the final translated answer to the user.\n4.  If the user's message is in a language NOT listed above (e.g., Italian, Japanese):\n    a.  Detect the language (e.g., \"Italian\").\n    b.  Respond in ENGLISH with the following message: \"I'm sorry, I currently do not support [Detected Language Name]. Please try asking in English, Hindi, Spanish, French, or German.\" (Replace \"[Detected Language Name]\" with the actual name of the unsupported language you detected). Do NOT attempt to answer the query in this case.\n5.  If the user's message is in English, respond directly in English.\n6.  Always maintain a professional and helpful tone, regardless of the language.\n\nYou can help with the following (after handling language as per above instructions):\n- Answering questions about case status (e.g., \"What is the status of my case ABC123?\")\n- Providing hearing dates (e.g., \"When is the next hearing for case XYZ?\")\n- Explaining legal terms (e.g., \"What does 'summon' mean in court?\")\n- Guiding on document uploads (e.g., \"How can I upload documents for my case?\")\n- Summarizing a case if case details are provided by the user or in context (e.g., \"Give me a summary of case DEF456. It involves...\")\n- Explaining court processes (e.g., \"What is the next step after filing a case?\")\n\nIf you need specific information like a case number to answer a question, politely ask the user to provide it (in their language, following the translation rules).\nIf a query is outside your scope of legal/court assistance, politely state that you cannot help with that topic (in their language, following the translation rules).\nDo not provide legal advice, only legal information and procedural guidance relevant to the Nextgen-Ecourt platform.\nUse the provided chat history and case context to maintain context in the conversation.\nAlways strive to be helpful and informative within these boundaries.`;\n\nasync function performChatbotInteraction(input: ChatbotInput): Promise<ChatbotOutput> {\n  const messages: MessageData[] = [];\n\n  // Build the system instruction text\n  let fullSystemPromptText = systemPrompt;\n  if (input.caseContext) {\n    fullSystemPromptText += `\\n\\nRelevant Case Context: ${input.caseContext}`;\n  }\n\n  messages.push({\n    role: 'system',\n    content: [{ text: fullSystemPromptText }],\n  });\n  \n  // Add chat history (user and model turns)\n  // Filter out any initial system-like messages from the history if they were added by UI\n  input.history.forEach(msg => {\n    messages.push({\n      role: msg.role, \n      content: [{ text: msg.text }],\n    });\n  });\n\n  // Add current user message\n  messages.push({\n    role: 'user',\n    content: [{ text: input.userMessage }],\n  });\n\n  const llmResponse = await ai.generate({\n    prompt: messages, // Pass the array of MessageData\n    // model: 'googleai/gemini-pro', // Or your configured default model from ai.ts\n    output: {\n      format: 'text', \n    },\n    config: {\n      // temperature: 0.7, // Adjust as needed\n    },\n  });\n\n  const responseText = llmResponse.text;\n  if (responseText === undefined || responseText === null) {\n    // It's possible the model returns an empty string intentionally based on instructions (e.g. unsupported language message was already given)\n    // However, for a general failure, we should throw.\n    // For now, let's assume an empty string might be valid under some prompt conditions.\n    // If it's truly an error (e.g. API failure not caught by Genkit), Genkit might throw before this.\n    // Consider if an empty string is an error or a valid \"no further comment\" response.\n    // For this chatbot, we expect some textual response.\n    console.warn('AI model returned undefined or null text response. Proceeding with empty string.');\n    return { botResponse: \"\" }; // Or throw new Error('AI model did not return a text response.');\n  }\n\n  return { botResponse: responseText };\n}\n\n// Define the Genkit flow\nconst chatbotFlow = ai.defineFlow(\n  {\n    name: 'chatbotFlow',\n    inputSchema: ChatbotInputSchema,\n    outputSchema: ChatbotOutputSchema,\n  },\n  async (input) => {\n    return await performChatbotInteraction(input);\n  }\n);\n\n// Exported wrapper function to be called by the UI\nexport async function getChatbotResponse(input: ChatbotInput): Promise<ChatbotOutput> {\n  return chatbotFlow(input);\n}\n"],"names":[],"mappings":";;;;;AACA;;;;;;;;;;CAUC,GAED;AAEA;;;;;;AAUA,MAAM,eAAe,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oEA8B8C,CAAC;AAErE,eAAe,0BAA0B,KAAmB;IAC1D,MAAM,WAA0B,EAAE;IAElC,oCAAoC;IACpC,IAAI,uBAAuB;IAC3B,IAAI,MAAM,WAAW,EAAE;QACrB,wBAAwB,CAAC,2BAA2B,EAAE,MAAM,WAAW,EAAE;IAC3E;IAEA,SAAS,IAAI,CAAC;QACZ,MAAM;QACN,SAAS;YAAC;gBAAE,MAAM;YAAqB;SAAE;IAC3C;IAEA,0CAA0C;IAC1C,wFAAwF;IACxF,MAAM,OAAO,CAAC,OAAO,CAAC,CAAA;QACpB,SAAS,IAAI,CAAC;YACZ,MAAM,IAAI,IAAI;YACd,SAAS;gBAAC;oBAAE,MAAM,IAAI,IAAI;gBAAC;aAAE;QAC/B;IACF;IAEA,2BAA2B;IAC3B,SAAS,IAAI,CAAC;QACZ,MAAM;QACN,SAAS;YAAC;gBAAE,MAAM,MAAM,WAAW;YAAC;SAAE;IACxC;IAEA,MAAM,cAAc,MAAM,mHAAA,CAAA,KAAE,CAAC,QAAQ,CAAC;QACpC,QAAQ;QACR,+EAA+E;QAC/E,QAAQ;YACN,QAAQ;QACV;QACA,QAAQ;QAER;IACF;IAEA,MAAM,eAAe,YAAY,IAAI;IACrC,IAAI,iBAAiB,aAAa,iBAAiB,MAAM;QACvD,4IAA4I;QAC5I,mDAAmD;QACnD,qFAAqF;QACrF,kGAAkG;QAClG,oFAAoF;QACpF,qDAAqD;QACrD,QAAQ,IAAI,CAAC;QACb,OAAO;YAAE,aAAa;QAAG,GAAG,kEAAkE;IAChG;IAEA,OAAO;QAAE,aAAa;IAAa;AACrC;AAEA,yBAAyB;AACzB,MAAM,cAAc,mHAAA,CAAA,KAAE,CAAC,UAAU,CAC/B;IACE,MAAM;IACN,aAAa,+HAAA,CAAA,qBAAkB;IAC/B,cAAc,+HAAA,CAAA,sBAAmB;AACnC,GACA,OAAO;IACL,OAAO,MAAM,0BAA0B;AACzC;AAIK,eAAe,uCAAgB,GAAhB,mBAAmB,KAAmB;IAC1D,OAAO,YAAY;AACrB;;;IAFsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 453, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28auth%29/profile/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(auth)/profile/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(auth)/profile/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmS,GAChU,iEACA","debugId":null}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28auth%29/profile/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(auth)/profile/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(auth)/profile/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA+Q,GAC5S,6CACA","debugId":null}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}